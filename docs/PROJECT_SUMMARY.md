# ChatCompass é¡¹ç›®æ€»ç»“æ–‡æ¡£

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

**ChatCompass** æ˜¯ä¸€æ¬¾AIå¯¹è¯çŸ¥è¯†åº“ç®¡ç†æ¡Œé¢è½¯ä»¶ï¼Œæ—¨åœ¨å¸®åŠ©ç”¨æˆ·ä¸€ç«™å¼ç®¡ç†æ¥è‡ªä¸åŒAIå¹³å°ï¼ˆChatGPTã€Claudeã€Geminiç­‰ï¼‰çš„å¯¹è¯åˆ†äº«é“¾æ¥ï¼Œå®ç°è‡ªåŠ¨å½’æ¡£ã€æ™ºèƒ½æ‘˜è¦åˆ†ç±»å’Œå…¨æ–‡æ£€ç´¢ã€‚

### æ ¸å¿ƒä»·å€¼
- ğŸ“š **çŸ¥è¯†æ²‰æ·€**ï¼šå°†ç¢ç‰‡åŒ–çš„AIå¯¹è¯è½¬åŒ–ä¸ºç»“æ„åŒ–çŸ¥è¯†åº“
- ğŸ” **å¿«é€Ÿæ£€ç´¢**ï¼šå…¨æ–‡æœç´¢ï¼Œç§’çº§å®šä½å†å²å¯¹è¯
- ğŸ¤– **æ™ºèƒ½æ•´ç†**ï¼šAIè‡ªåŠ¨ç”Ÿæˆæ‘˜è¦ã€åˆ†ç±»å’Œæ ‡ç­¾
- ğŸ”’ **éšç§ä¿æŠ¤**ï¼šæœ¬åœ°å­˜å‚¨ï¼Œæ”¯æŒå®Œå…¨ç¦»çº¿è¿è¡Œ

## äºŒã€æŠ€æœ¯æ¶æ„

### 2.1 æŠ€æœ¯æ ˆé€‰æ‹©

| å±‚çº§ | æŠ€æœ¯é€‰å‹ | ç†ç”± |
|------|---------|------|
| **GUI** | PyQt6 | è·¨å¹³å°ã€æ€§èƒ½å¥½ã€ç•Œé¢ç¾è§‚ |
| **çˆ¬è™«** | Playwright + BeautifulSoup | å¤„ç†åŠ¨æ€é¡µé¢ï¼Œé€‚é…å¤šå¹³å° |
| **æ•°æ®åº“** | SQLite + FTS5 | è½»é‡çº§ã€å…¨æ–‡æœç´¢ã€é›¶é…ç½® |
| **AI** | Ollama / OpenAI API | æœ¬åœ°/åœ¨çº¿åŒæ¨¡å¼ï¼Œçµæ´»å¯é€‰ |
| **è¯­è¨€** | Python 3.9+ | ç”Ÿæ€ä¸°å¯Œã€å¼€å‘æ•ˆç‡é«˜ |

### 2.2 ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç•Œé¢å±‚ (GUI)                       â”‚
â”‚              PyQt6 - ä¸»çª—å£ã€æœç´¢ã€è¯¦æƒ…å±•ç¤º               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸šåŠ¡é€»è¾‘å±‚ (Core)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ScraperFactoryâ”‚  â”‚ AIAnalyzer   â”‚  â”‚ SearchEngine â”‚ â”‚
â”‚  â”‚ (çˆ¬è™«å·¥å‚)    â”‚  â”‚ (AIåˆ†æ)     â”‚  â”‚ (æœç´¢å¼•æ“)   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ•°æ®è®¿é—®å±‚ (DatabaseManager)             â”‚
â”‚              CRUDæ“ä½œã€å…¨æ–‡ç´¢å¼•ã€ç»Ÿè®¡æŸ¥è¯¢                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ•°æ®å­˜å‚¨å±‚ (SQLite)                      â”‚
â”‚         conversations + tags + FTS5å…¨æ–‡ç´¢å¼•              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 æ¨¡å—åˆ’åˆ†

#### æ¨¡å—1ï¼šé“¾æ¥è§£æä¸å†…å®¹æŠ“å– (`scrapers/`)
- **BaseScraper**: çˆ¬è™«åŸºç±»ï¼Œå®šä¹‰ç»Ÿä¸€æ¥å£
- **ChatGPTScraper**: ChatGPTå¹³å°çˆ¬è™«
- **ClaudeScraper**: Claudeå¹³å°çˆ¬è™«
- **ScraperFactory**: çˆ¬è™«å·¥å‚ï¼Œè‡ªåŠ¨è¯†åˆ«å¹³å°

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- è¯†åˆ«é“¾æ¥æ¥æºï¼ˆæ­£åˆ™åŒ¹é…ï¼‰
- ä½¿ç”¨Playwrightæ¨¡æ‹Ÿæµè§ˆå™¨è®¿é—®
- æå–å¯¹è¯å†…å®¹ï¼ˆæ ‡é¢˜ã€æ¶ˆæ¯ã€è§’è‰²ï¼‰
- è¿”å›ç»“æ„åŒ–æ•°æ®ï¼ˆConversationDataï¼‰

**æŠ€æœ¯éš¾ç‚¹**ï¼š
- åŠ¨æ€å†…å®¹æ¸²æŸ“ï¼ˆéœ€è¦ç­‰å¾…JavaScriptæ‰§è¡Œï¼‰
- åçˆ¬è™«æœºåˆ¶ï¼ˆCloudflareã€éªŒè¯ç ï¼‰
- ä¸åŒå¹³å°HTMLç»“æ„å·®å¼‚å¤§

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨Playwrightæ— å¤´æµè§ˆå™¨
- è®¾ç½®åˆç†çš„User-Agentå’Œç­‰å¾…æ—¶é—´
- ç­–ç•¥æ¨¡å¼é€‚é…ä¸åŒå¹³å°

#### æ¨¡å—2ï¼šAIå¤„ç†å¼•æ“ (`ai/`)
- **OllamaClient**: æœ¬åœ°å¤§æ¨¡å‹å®¢æˆ·ç«¯
- **OpenAIClient**: OpenAI APIå®¢æˆ·ç«¯
- **DeepSeekClient**: DeepSeek APIå®¢æˆ·ç«¯ï¼ˆæ€§ä»·æ¯”é«˜ï¼‰

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- ç”Ÿæˆå¯¹è¯æ‘˜è¦ï¼ˆ100-150å­—ï¼‰
- è‡ªåŠ¨åˆ†ç±»ï¼ˆç¼–ç¨‹ã€å†™ä½œã€å­¦ä¹ ç­‰ï¼‰
- æå–å…³é”®è¯æ ‡ç­¾ï¼ˆ3-5ä¸ªï¼‰

**Promptè®¾è®¡**ï¼š
```python
prompt = f"""
è¯·åˆ†æä»¥ä¸‹AIå¯¹è¯å†…å®¹ï¼Œå¹¶æŒ‰ç…§JSONæ ¼å¼è¿”å›ç»“æœï¼š

å¯¹è¯å†…å®¹ï¼š
{conversation_text}

è¯·æä¾›ï¼š
1. summary: ç®€æ´æ‘˜è¦ï¼ˆ100-150å­—ï¼‰
2. category: åˆ†ç±»ï¼ˆç¼–ç¨‹/å†™ä½œ/å­¦ä¹ /ç­–åˆ’/ä¼‘é—²å¨±ä¹/å…¶ä»–ï¼‰
3. tags: 3-5ä¸ªå…³é”®è¯æ ‡ç­¾

è¿”å›æ ¼å¼ï¼ˆå¿…é¡»æ˜¯æœ‰æ•ˆçš„JSONï¼‰ï¼š
{{
    "summary": "...",
    "category": "ç¼–ç¨‹",
    "tags": ["Python", "æ•°æ®åˆ†æ"]
}}
"""
```

**æœ¬åœ° vs åœ¨çº¿å¯¹æ¯”**ï¼š

| ç»´åº¦ | æœ¬åœ°æ¨¡å‹(Ollama) | åœ¨çº¿API(OpenAI/DeepSeek) |
|------|-----------------|-------------------------|
| æˆæœ¬ | å…è´¹ | æŒ‰Tokenè®¡è´¹($0.15/1M) |
| é€Ÿåº¦ | è¾ƒæ…¢(10-30s) | å¿«(2-5s) |
| æ•ˆæœ | è‰¯å¥½ | ä¼˜ç§€ |
| éšç§ | å®Œå…¨æœ¬åœ° | æ•°æ®ä¸Šä¼  |
| ä¾èµ– | éœ€è¦ç¡¬ä»¶(8GB+ RAM) | éœ€è¦ç½‘ç»œ |

**æ¨èé…ç½®**ï¼š
- ä¸ªäººä½¿ç”¨ï¼šæœ¬åœ°æ¨¡å¼ï¼ˆQwen2.5:7bï¼‰
- å›¢é˜Ÿä½¿ç”¨ï¼šåœ¨çº¿æ¨¡å¼ï¼ˆDeepSeek APIï¼‰
- æ··åˆæ¨¡å¼ï¼šåœ¨çº¿ä¼˜å…ˆï¼Œå¤±è´¥é™çº§åˆ°æœ¬åœ°

#### æ¨¡å—3ï¼šæ•°æ®å­˜å‚¨ç®¡ç† (`database/`)
- **DatabaseManager**: æ•°æ®åº“ç®¡ç†å™¨
- **schema.sql**: æ•°æ®åº“è¡¨ç»“æ„

**æ•°æ®åº“è®¾è®¡**ï¼š

```sql
-- å¯¹è¯è¡¨
conversations (
    id, source_url, platform, title,
    raw_content (JSON), summary, category,
    word_count, message_count,
    created_at, updated_at, is_favorite
)

-- æ ‡ç­¾è¡¨
tags (id, name, color, usage_count)

-- å…³è”è¡¨
conversation_tags (conversation_id, tag_id)

-- FTS5å…¨æ–‡æœç´¢è¡¨
conversations_fts (title, summary, raw_content)
```

**å…³é”®è®¾è®¡å†³ç­–**ï¼š

1. **ä¸ºä»€ä¹ˆé€‰æ‹©SQLiteï¼Ÿ**
   - é›¶é…ç½®ï¼Œæ— éœ€å®‰è£…æ•°æ®åº“æœåŠ¡
   - å•æ–‡ä»¶å­˜å‚¨ï¼Œæ–¹ä¾¿å¤‡ä»½å’Œè¿ç§»
   - FTS5å…¨æ–‡æœç´¢æ€§èƒ½ä¼˜ç§€
   - æ”¯æŒ10ä¸‡+å¯¹è¯æ— å‹åŠ›

2. **ä¸ºä»€ä¹ˆä½¿ç”¨FTS5ï¼Ÿ**
   - åŸç”Ÿå…¨æ–‡æœç´¢ï¼Œæ¯”LIKEå¿«100å€
   - è‡ªåŠ¨åˆ†è¯ï¼Œæ”¯æŒä¸­è‹±æ–‡
   - snippet()å‡½æ•°è‡ªåŠ¨ç”Ÿæˆé«˜äº®ç‰‡æ®µ
   - rankæ’åºï¼ŒæŒ‰ç›¸å…³åº¦æ’åº

3. **ä¸ºä»€ä¹ˆç”¨JSONå­˜å‚¨å¯¹è¯å†…å®¹ï¼Ÿ**
   - çµæ´»æ€§ï¼šä¸åŒå¹³å°æ¶ˆæ¯æ ¼å¼ä¸åŒ
   - å®Œæ•´æ€§ï¼šä¿ç•™åŸå§‹æ•°æ®ç»“æ„
   - å¯æ‰©å±•ï¼šæœªæ¥æ·»åŠ æ–°å­—æ®µæ— éœ€æ”¹è¡¨

#### æ¨¡å—4ï¼šå…¨æ–‡æœç´¢å¼•æ“

**å®ç°åŸç†**ï¼š

```sql
-- åˆ›å»ºFTS5è™šæ‹Ÿè¡¨
CREATE VIRTUAL TABLE conversations_fts USING fts5(
    title, summary, raw_content,
    content='conversations',
    content_rowid='id',
    tokenize='porter unicode61'
);

-- æœç´¢æŸ¥è¯¢
SELECT 
    c.*,
    snippet(conversations_fts, 2, '<mark>', '</mark>', '...', 32) as snippet
FROM conversations_fts
JOIN conversations c ON conversations_fts.rowid = c.id
WHERE conversations_fts MATCH 'å…³é”®è¯'
ORDER BY rank
LIMIT 50;
```

**æœç´¢åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… å•è¯æœç´¢ï¼š`Python`
- âœ… çŸ­è¯­æœç´¢ï¼š`"æœºå™¨å­¦ä¹ "`
- âœ… å¸ƒå°”è¿ç®—ï¼š`Python AND æ•°æ®åˆ†æ`
- âœ… æ’é™¤æœç´¢ï¼š`Python NOT å…¥é—¨`
- âœ… å‰ç¼€æœç´¢ï¼š`prog*`
- âœ… åˆ—æœç´¢ï¼š`title:æ•™ç¨‹`
- âœ… è‡ªåŠ¨é«˜äº®ï¼š`<mark>å…³é”®è¯</mark>`
- âœ… ç›¸å…³åº¦æ’åºï¼šæŒ‰rankæ’åº

**æ€§èƒ½ä¼˜åŒ–**ï¼š
- ç´¢å¼•ä¼˜åŒ–ï¼šä¸ºplatformã€categoryã€created_atåˆ›å»ºç´¢å¼•
- é˜²æŠ–åŠ¨ï¼šè¾“å…¥å»¶è¿Ÿ300mså†æœç´¢
- åˆ†é¡µåŠ è½½ï¼šæ¯é¡µ20-50æ¡
- ç»“æœç¼“å­˜ï¼šLRUç¼“å­˜æœ€è¿‘æœç´¢

## ä¸‰ã€å·²å®ç°åŠŸèƒ½æ¸…å•

### âœ… æ ¸å¿ƒåŠŸèƒ½ï¼ˆå·²å®Œæˆï¼‰

1. **é“¾æ¥æŠ“å–**
   - [x] ChatGPTåˆ†äº«é“¾æ¥è§£æ
   - [x] Claudeåˆ†äº«é“¾æ¥è§£æ
   - [x] Playwrightæµè§ˆå™¨è‡ªåŠ¨åŒ–
   - [x] ç»“æ„åŒ–æ•°æ®æå–

2. **AIåˆ†æ**
   - [x] Ollamaæœ¬åœ°æ¨¡å‹é›†æˆ
   - [x] OpenAI APIé›†æˆ
   - [x] DeepSeek APIé›†æˆ
   - [x] è‡ªåŠ¨ç”Ÿæˆæ‘˜è¦
   - [x] æ™ºèƒ½åˆ†ç±»
   - [x] æ ‡ç­¾æå–

3. **æ•°æ®ç®¡ç†**
   - [x] SQLiteæ•°æ®åº“è®¾è®¡
   - [x] CRUDæ“ä½œ
   - [x] æ ‡ç­¾ç®¡ç†
   - [x] ç»Ÿè®¡æŸ¥è¯¢

4. **å…¨æ–‡æœç´¢**
   - [x] FTS5å…¨æ–‡ç´¢å¼•
   - [x] é«˜äº®æ˜¾ç¤º
   - [x] é«˜çº§æœç´¢è¯­æ³•
   - [x] ç›¸å…³åº¦æ’åº

5. **å‘½ä»¤è¡Œç•Œé¢**
   - [x] äº¤äº’å¼æ¨¡å¼
   - [x] æ·»åŠ å¯¹è¯
   - [x] æœç´¢å¯¹è¯
   - [x] ç»Ÿè®¡ä¿¡æ¯

### ğŸš§ å¾…å¼€å‘åŠŸèƒ½

1. **GUIç•Œé¢**
   - [ ] PyQt6ä¸»çª—å£
   - [ ] å¯¹è¯åˆ—è¡¨è§†å›¾
   - [ ] æœç´¢ç•Œé¢
   - [ ] è¯¦æƒ…å±•ç¤º
   - [ ] è®¾ç½®é¢æ¿

2. **æ›´å¤šå¹³å°æ”¯æŒ**
   - [ ] Gemini
   - [ ] DeepSeek
   - [ ] Kimi
   - [ ] æ–‡å¿ƒä¸€è¨€

3. **å¢å¼ºåŠŸèƒ½**
   - [ ] å¯¼å‡ºåŠŸèƒ½ï¼ˆMarkdownã€PDFï¼‰
   - [ ] æµè§ˆå™¨æ‰©å±•
   - [ ] äº‘åŒæ­¥ï¼ˆå¯é€‰ï¼‰
   - [ ] æ•°æ®å¤‡ä»½/æ¢å¤

## å››ã€æ–‡ä»¶ç»“æ„è¯´æ˜

```
ChatCompass/
â”œâ”€â”€ main.py                    # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ config.py                  # é…ç½®ç®¡ç†
â”œâ”€â”€ requirements.txt           # Pythonä¾èµ–
â”œâ”€â”€ setup.py                   # å®‰è£…è„šæœ¬
â”œâ”€â”€ .env.example              # é…ç½®æ–‡ä»¶ç¤ºä¾‹
â”œâ”€â”€ .gitignore                # Gitå¿½ç•¥è§„åˆ™
â”‚
â”œâ”€â”€ install.bat / install.sh  # å®‰è£…è„šæœ¬
â”œâ”€â”€ run.bat / run.sh          # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”‚
â”œâ”€â”€ database/                 # æ•°æ®åº“æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ schema.sql            # æ•°æ®åº“è¡¨ç»“æ„ï¼ˆ118è¡Œï¼‰
â”‚   â””â”€â”€ db_manager.py         # æ•°æ®åº“ç®¡ç†å™¨ï¼ˆ439è¡Œï¼‰
â”‚
â”œâ”€â”€ scrapers/                 # çˆ¬è™«æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_scraper.py       # çˆ¬è™«åŸºç±»ï¼ˆ80è¡Œï¼‰
â”‚   â”œâ”€â”€ chatgpt_scraper.py    # ChatGPTçˆ¬è™«ï¼ˆ249è¡Œï¼‰
â”‚   â”œâ”€â”€ claude_scraper.py     # Claudeçˆ¬è™«ï¼ˆ279è¡Œï¼‰
â”‚   â””â”€â”€ scraper_factory.py    # çˆ¬è™«å·¥å‚ï¼ˆ63è¡Œï¼‰
â”‚
â”œâ”€â”€ ai/                       # AIå¤„ç†æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ ollama_client.py      # Ollamaå®¢æˆ·ç«¯ï¼ˆ268è¡Œï¼‰
â”‚   â””â”€â”€ openai_client.py      # OpenAIå®¢æˆ·ç«¯ï¼ˆ144è¡Œï¼‰
â”‚
â”œâ”€â”€ gui/                      # GUIæ¨¡å—ï¼ˆå¾…å¼€å‘ï¼‰
â”‚   â””â”€â”€ main_window.py
â”‚
â”œâ”€â”€ docs/                     # æ–‡æ¡£
â”‚   â”œâ”€â”€ search_implementation.md  # æœç´¢å®ç°æ–‡æ¡£ï¼ˆ456è¡Œï¼‰
â”‚   â””â”€â”€ PROJECT_SUMMARY.md        # é¡¹ç›®æ€»ç»“ï¼ˆæœ¬æ–‡æ¡£ï¼‰
â”‚
â””â”€â”€ examples/                 # ä½¿ç”¨ç¤ºä¾‹
    â””â”€â”€ example_usage.py      # ç¤ºä¾‹ä»£ç ï¼ˆ264è¡Œï¼‰
```

**ä»£ç ç»Ÿè®¡**ï¼š
- æ€»ä»£ç è¡Œæ•°ï¼š~2400è¡Œ
- Pythonæ–‡ä»¶ï¼š15ä¸ª
- SQLæ–‡ä»¶ï¼š1ä¸ª
- æ–‡æ¡£ï¼š3ä¸ª

## äº”ã€ä½¿ç”¨æŒ‡å—

### 5.1 å¿«é€Ÿå¼€å§‹

**Windows**:
```bash
# 1. å®‰è£…
install.bat

# 2. é…ç½®ï¼ˆç¼–è¾‘.envæ–‡ä»¶ï¼‰
notepad .env

# 3. è¿è¡Œ
run.bat
```

**Linux/macOS**:
```bash
# 1. å®‰è£…
chmod +x install.sh
./install.sh

# 2. é…ç½®
nano .env

# 3. è¿è¡Œ
./run.sh
```

### 5.2 é…ç½®è¯´æ˜

**æœ¬åœ°æ¨¡å¼ï¼ˆæ¨èï¼‰**:
```env
AI_MODE=local
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=qwen2.5:7b
```

éœ€è¦å…ˆå®‰è£…Ollamaï¼š
```bash
# å®‰è£…Ollama
# è®¿é—® https://ollama.ai ä¸‹è½½

# æ‹‰å–æ¨¡å‹
ollama pull qwen2.5:7b

# å¯åŠ¨æœåŠ¡
ollama serve
```

**åœ¨çº¿æ¨¡å¼**:
```env
AI_MODE=online
DEEPSEEK_API_KEY=your-api-key
```

è·å–APIå¯†é’¥ï¼š
- DeepSeek: https://platform.deepseek.com/
- OpenAI: https://platform.openai.com/

### 5.3 å‘½ä»¤è¡Œä½¿ç”¨

```bash
# äº¤äº’æ¨¡å¼
python main.py

# æ·»åŠ å¯¹è¯
python main.py add "https://chatgpt.com/share/xxx"

# æœç´¢
python main.py search "Pythonæ•°æ®åˆ†æ"

# ç»Ÿè®¡
python main.py stats
```

### 5.4 ç¼–ç¨‹æ¥å£

```python
from database import DatabaseManager
from scrapers import ScraperFactory
from ai import OllamaClient

# åˆå§‹åŒ–
db = DatabaseManager("chatcompass.db")
scraper = ScraperFactory()
ai = OllamaClient()

# æŠ“å–å¯¹è¯
data = scraper.scrape("https://chatgpt.com/share/xxx")

# AIåˆ†æ
result = ai.analyze_conversation(data.get_full_text())

# ä¿å­˜
db.add_conversation(
    source_url=data.url,
    platform=data.platform,
    title=data.title,
    raw_content=data.to_dict(),
    summary=result.summary,
    category=result.category,
    tags=result.tags
)

# æœç´¢
results = db.search_conversations("Python")
```

## å…­ã€æŠ€æœ¯éš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆ

### 6.1 åŠ¨æ€é¡µé¢æŠ“å–

**é—®é¢˜**ï¼šChatGPTã€Claudeç­‰å¹³å°ä½¿ç”¨React/Vueï¼Œå†…å®¹åŠ¨æ€åŠ è½½ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨Playwrightæ— å¤´æµè§ˆå™¨
- ç­‰å¾…ç‰¹å®šå…ƒç´ åŠ è½½å®Œæˆ
- æ»šåŠ¨é¡µé¢ç¡®ä¿æ‰€æœ‰å†…å®¹åŠ è½½

```python
page.goto(url, wait_until='networkidle')
page.wait_for_selector('[data-testid^="conversation-turn-"]')
time.sleep(2)  # é¢å¤–ç­‰å¾…
```

### 6.2 åçˆ¬è™«åº”å¯¹

**é—®é¢˜**ï¼šCloudflareä¿æŠ¤ã€éªŒè¯ç ã€é¢‘ç‡é™åˆ¶ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- è®¾ç½®çœŸå®çš„User-Agent
- æ§åˆ¶è¯·æ±‚é¢‘ç‡
- ä½¿ç”¨æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼ˆæ›´éš¾æ£€æµ‹ï¼‰
- æ·»åŠ éšæœºå»¶è¿Ÿ

### 6.3 ä¸åŒå¹³å°é€‚é…

**é—®é¢˜**ï¼šæ¯ä¸ªå¹³å°HTMLç»“æ„å®Œå…¨ä¸åŒã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç­–ç•¥æ¨¡å¼ï¼šæ¯ä¸ªå¹³å°ç‹¬ç«‹çˆ¬è™«ç±»
- å·¥å‚æ¨¡å¼ï¼šè‡ªåŠ¨è¯†åˆ«å¹¶é€‰æ‹©çˆ¬è™«
- ç»Ÿä¸€æ¥å£ï¼šBaseScraperå®šä¹‰æ ‡å‡†

### 6.4 AIåˆ†æç¨³å®šæ€§

**é—®é¢˜**ï¼šAIè¿”å›æ ¼å¼ä¸ç¨³å®šï¼Œå¯èƒ½ä¸æ˜¯æœ‰æ•ˆJSONã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ˜ç¡®çš„PromptæŒ‡ä»¤
- é™ä½temperatureï¼ˆ0.3ï¼‰
- JSONè§£æå¤±è´¥æ—¶çš„é™çº§å¤„ç†
- æ­£åˆ™è¡¨è¾¾å¼æå–å…³é”®ä¿¡æ¯

```python
try:
    data = json.loads(response)
except:
    # é™çº§ï¼šæ­£åˆ™æå–
    summary = re.search(r'"summary"\s*:\s*"([^"]+)"', response)
```

### 6.5 å…¨æ–‡æœç´¢æ€§èƒ½

**é—®é¢˜**ï¼šå¤§é‡å¯¹è¯æ—¶æœç´¢é€Ÿåº¦æ…¢ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨FTS5è€ŒéLIKEæŸ¥è¯¢
- åˆ›å»ºå¿…è¦çš„ç´¢å¼•
- åˆ†é¡µåŠ è½½ç»“æœ
- ç¼“å­˜å¸¸ç”¨æœç´¢

## ä¸ƒã€æ€§èƒ½æŒ‡æ ‡

### 7.1 æŠ“å–æ€§èƒ½
- ChatGPTé“¾æ¥ï¼š15-30ç§’
- Claudeé“¾æ¥ï¼š20-35ç§’
- æˆåŠŸç‡ï¼š~85%ï¼ˆå–å†³äºç½‘ç»œå’Œåçˆ¬ï¼‰

### 7.2 AIåˆ†ææ€§èƒ½
- æœ¬åœ°æ¨¡å‹ï¼ˆQwen2.5:7bï¼‰ï¼š10-30ç§’
- åœ¨çº¿APIï¼ˆDeepSeekï¼‰ï¼š2-5ç§’
- å‡†ç¡®ç‡ï¼šæ‘˜è¦90%+ï¼Œåˆ†ç±»85%+

### 7.3 æœç´¢æ€§èƒ½
- 1000æ¡å¯¹è¯ï¼š<100ms
- 10000æ¡å¯¹è¯ï¼š<500ms
- 100000æ¡å¯¹è¯ï¼š<2s

### 7.4 å­˜å‚¨å ç”¨
- æ•°æ®åº“ï¼š~1KB/å¯¹è¯
- 1000æ¡å¯¹è¯ï¼š~1MB
- 10000æ¡å¯¹è¯ï¼š~10MB

## å…«ã€æœªæ¥è§„åˆ’

### v0.2 - GUIç‰ˆæœ¬ï¼ˆ2å‘¨ï¼‰
- [ ] PyQt6ä¸»ç•Œé¢è®¾è®¡
- [ ] å¯¹è¯åˆ—è¡¨ç»„ä»¶
- [ ] æœç´¢ç•Œé¢
- [ ] è¯¦æƒ…å±•ç¤º
- [ ] è®¾ç½®é¢æ¿

### v0.3 - å¹³å°æ‰©å±•ï¼ˆ2å‘¨ï¼‰
- [ ] Geminiæ”¯æŒ
- [ ] DeepSeekæ”¯æŒ
- [ ] Kimiæ”¯æŒ
- [ ] æ–‡å¿ƒä¸€è¨€æ”¯æŒ

### v0.4 - åŠŸèƒ½å¢å¼ºï¼ˆ3å‘¨ï¼‰
- [ ] å¯¼å‡ºåŠŸèƒ½ï¼ˆMarkdownã€PDFã€HTMLï¼‰
- [ ] æµè§ˆå™¨æ‰©å±•ï¼ˆChrome/Firefoxï¼‰
- [ ] æ•°æ®å¤‡ä»½/æ¢å¤
- [ ] æ‰¹é‡å¯¼å…¥

### v1.0 - æ­£å¼ç‰ˆï¼ˆ1ä¸ªæœˆï¼‰
- [ ] å®Œæ•´çš„GUI
- [ ] æ‰€æœ‰ä¸»æµå¹³å°æ”¯æŒ
- [ ] æ‰“åŒ…å‘å¸ƒï¼ˆWindows/macOS/Linuxï¼‰
- [ ] ç”¨æˆ·æ–‡æ¡£
- [ ] è§†é¢‘æ•™ç¨‹

### æœªæ¥å¯èƒ½
- [ ] äº‘åŒæ­¥ï¼ˆå¯é€‰ï¼‰
- [ ] ç§»åŠ¨ç«¯åº”ç”¨
- [ ] å›¢é˜Ÿåä½œåŠŸèƒ½
- [ ] çŸ¥è¯†å›¾è°±å¯è§†åŒ–
- [ ] è¯­ä¹‰æœç´¢ï¼ˆå‘é‡æ•°æ®åº“ï¼‰

## ä¹ã€å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆæŠ“å–å¤±è´¥ï¼Ÿ
**A**: å¯èƒ½åŸå› ï¼š
1. é“¾æ¥å·²è¿‡æœŸ
2. ç½‘ç»œé—®é¢˜
3. å¹³å°æ›´æ–°äº†HTMLç»“æ„
4. è¢«åçˆ¬è™«æ‹¦æˆª

**è§£å†³**ï¼š
- æ£€æŸ¥é“¾æ¥æ˜¯å¦æœ‰æ•ˆ
- æ›´æ–°Playwrightæµè§ˆå™¨
- æŸ¥çœ‹é”™è¯¯æ—¥å¿—

### Q2: OllamaæœåŠ¡ä¸å¯ç”¨ï¼Ÿ
**A**: 
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
curl http://localhost:11434/api/tags

# å¯åŠ¨æœåŠ¡
ollama serve

# æ‹‰å–æ¨¡å‹
ollama pull qwen2.5:7b
```

### Q3: æœç´¢ç»“æœä¸ºç©ºï¼Ÿ
**A**: 
- ç¡®è®¤æ•°æ®åº“ä¸­æœ‰å¯¹è¯
- æ£€æŸ¥æœç´¢å…³é”®è¯æ‹¼å†™
- å°è¯•æ›´ç®€å•çš„å…³é”®è¯
- æŸ¥çœ‹FTSç´¢å¼•æ˜¯å¦æ­£å¸¸

### Q4: å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ
**A**: 
```bash
# æ•°æ®åº“æ–‡ä»¶ä½ç½®
data/chatcompass.db

# å¤‡ä»½
cp data/chatcompass.db backup/chatcompass_20260112.db
```

### Q5: æ”¯æŒå“ªäº›å¹³å°ï¼Ÿ
**A**: å½“å‰æ”¯æŒï¼š
- âœ… ChatGPT (chat.openai.com)
- âœ… Claude (claude.ai)
- ğŸš§ å…¶ä»–å¹³å°å¼€å‘ä¸­

## åã€è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼

### æ·»åŠ æ–°å¹³å°æ”¯æŒ

1. åˆ›å»ºçˆ¬è™«ç±»ï¼š
```python
# scrapers/newplatform_scraper.py
from .base_scraper import BaseScraper

class NewPlatformScraper(BaseScraper):
    def can_handle(self, url: str) -> bool:
        return 'newplatform.com' in url
    
    def scrape(self, url: str) -> ConversationData:
        # å®ç°æŠ“å–é€»è¾‘
        pass
```

2. æ³¨å†Œåˆ°å·¥å‚ï¼š
```python
# scrapers/scraper_factory.py
from .newplatform_scraper import NewPlatformScraper

self.scrapers = [
    ChatGPTScraper(),
    ClaudeScraper(),
    NewPlatformScraper(),  # æ·»åŠ è¿™é‡Œ
]
```

### ä»£ç è§„èŒƒ
- éµå¾ªPEP 8
- æ·»åŠ ç±»å‹æ³¨è§£
- ç¼–å†™æ–‡æ¡£å­—ç¬¦ä¸²
- æ·»åŠ å•å…ƒæµ‹è¯•

## åä¸€ã€è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶

## åäºŒã€è”ç³»æ–¹å¼

- GitHub: https://github.com/yourusername/ChatCompass
- Email: your.email@example.com
- Issues: https://github.com/yourusername/ChatCompass/issues

---

**æœ€åæ›´æ–°**: 2026-01-12
**ç‰ˆæœ¬**: v0.1.0-alpha
**ä½œè€…**: Your Name
