# æ¸è¿›å¼æµ‹è¯•æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

åŸºäºæ–°çš„é”™è¯¯ç®¡ç†æœºåˆ¶,æˆ‘ä»¬è®¾è®¡äº†ä¸€å¥—**æ¸è¿›å¼æµ‹è¯•ç­–ç•¥**:é‡åˆ°é”™è¯¯ç«‹å³æš‚åœ,æŸ¥çœ‹è¯¦æƒ…,ä¿®å¤åç»§ç»­ã€‚å‘Šåˆ«ä¼ ç»Ÿçš„"è·‘å®Œå†æ”¹"æ¨¡å¼ã€‚

## ğŸ¯ æ ¸å¿ƒç†å¿µ

### ä¼ ç»Ÿæ¨¡å¼ âŒ
```
è¿è¡Œæ‰€æœ‰æµ‹è¯• â†’ æ”¶é›†æ‰€æœ‰é”™è¯¯ â†’ æ‰¹é‡ä¿®å¤ â†’ é‡æ–°è¿è¡Œ
é—®é¢˜: é”™è¯¯å †ç§¯,éš¾ä»¥å®šä½,é‡å¤è¿è¡Œæµªè´¹æ—¶é—´
```

### æ¸è¿›å¼æ¨¡å¼ âœ…
```
è¿è¡Œæµ‹è¯• â†’ å‘ç°é”™è¯¯ â†’ ç«‹å³æš‚åœ â†’ æŸ¥çœ‹è¯¦æƒ… â†’ ä¿®å¤ â†’ ç»§ç»­
ä¼˜åŠ¿: å³æ—¶åé¦ˆ,ç²¾å‡†å®šä½,é€ä¸ªå‡»ç ´,é¿å…é”™è¯¯ç´¯ç§¯
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼1: ä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ (æ¨è)

```bash
# Windows
run_tests_interactive.bat

# Linux/macOS
chmod +x run_tests_interactive.sh
./run_tests_interactive.sh
```

### æ–¹å¼2: ä½¿ç”¨Pythonè„šæœ¬

```bash
# é»˜è®¤æ¨¡å¼ (å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•)
python run_tests_interactive.py

# å¿«é€Ÿæ¨¡å¼ (åªè¿è¡Œæ ¸å¿ƒæµ‹è¯•)
python run_tests_interactive.py --quick

# æµ‹è¯•ç‰¹å®šæ¨¡å—
python run_tests_interactive.py tests/unit/test_db_manager.py

# æµ‹è¯•ç‰¹å®šç›®å½•
python run_tests_interactive.py tests/gui

# ä¸æš‚åœæ¨¡å¼ (ä¼ ç»Ÿæ–¹å¼)
python run_tests_interactive.py --no-stop
```

## ğŸ“š ä½¿ç”¨æµç¨‹

### 1. å¯åŠ¨æµ‹è¯•

```bash
python run_tests_interactive.py
```

è¾“å‡º:
```
================================================================================
ğŸ§ª ChatCompass äº¤äº’å¼æµ‹è¯•è¿è¡Œå™¨
================================================================================

ğŸ“‹ æµ‹è¯•ç­–ç•¥:
  1. é€ä¸ªè¿è¡Œæµ‹è¯•ç”¨ä¾‹
  2. å‘ç°é”™è¯¯ç«‹å³æš‚åœ
  3. æ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
  4. ç­‰å¾…ç¡®è®¤åç»§ç»­

================================================================================

ğŸ“ æ‰¾åˆ° 15 ä¸ªæµ‹è¯•æ–‡ä»¶

================================================================================
ğŸ“¦ [1/15] æµ‹è¯•æ¨¡å—: tests/unit/test_db_manager.py
================================================================================

ğŸ§ª æµ‹è¯•æ–‡ä»¶: test_db_manager.py
--------------------------------------------------------------------------------
  âœ… test_database_init
  âœ… test_add_conversation
  âœ… test_get_conversation
  ...
```

### 2. é‡åˆ°é”™è¯¯æ—¶

ç³»ç»Ÿä¼šç«‹å³æš‚åœå¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯:

```
ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´

âŒ æµ‹è¯•å¤±è´¥: test_search_conversations

--------------------------------------------------------------------------------

ğŸ“› é”™è¯¯ç±»å‹: AssertionError
ğŸ’¬ é”™è¯¯æ¶ˆæ¯: assert 0 > 0

ğŸ“š å®Œæ•´å †æ ˆè·Ÿè¸ª:
--------------------------------------------------------------------------------
tests/unit/test_db_manager.py:45: in test_search_conversations
    assert len(results) > 0
E   assert 0 > 0
E    +  where 0 = len([])
--------------------------------------------------------------------------------

ğŸ’¡ å»ºè®®:
  1. å¤åˆ¶ä¸Šè¿°é”™è¯¯ä¿¡æ¯
  2. æ£€æŸ¥ä»£ç å®šä½é—®é¢˜
  3. ä¿®å¤é”™è¯¯
  4. ç»§ç»­è¿è¡Œæµ‹è¯•

ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´ğŸ”´

âš ï¸  å‘ç° 1 ä¸ªåº”ç”¨å±‚é”™è¯¯:
  1. [14:30:45] ValueError: Invalid search query

ğŸ’¡ æç¤º: ä½¿ç”¨ GUI çš„ 'å¸®åŠ©â†’æŸ¥çœ‹é”™è¯¯æ—¥å¿—' æŸ¥çœ‹å®Œæ•´å†å²

================================================================================

â¸ï¸  æµ‹è¯•å·²æš‚åœ! è¯·é€‰æ‹©:
  [c] ç»§ç»­ä¸‹ä¸€ä¸ªæµ‹è¯•
  [r] é‡æ–°è¿è¡Œå½“å‰æµ‹è¯•
  [s] è·³è¿‡å‰©ä½™æµ‹è¯•
  [v] æŸ¥çœ‹é”™è¯¯å†å²
  [e] å¯¼å‡ºé”™è¯¯æ—¥å¿—
  [q] é€€å‡ºæµ‹è¯•

ğŸ‘‰ è¯·é€‰æ‹© [c/r/s/v/e/q]: 
```

### 3. é€‰æ‹©æ“ä½œ

#### [c] ç»§ç»­ä¸‹ä¸€ä¸ªæµ‹è¯•
ä¿®å¤å®Œæˆå,ç»§ç»­è¿è¡Œä¸‹ä¸€ä¸ªæµ‹è¯•:
```bash
ğŸ‘‰ è¯·é€‰æ‹© [c/r/s/v/e/q]: c

âœ… ç»§ç»­ä¸‹ä¸€ä¸ªæµ‹è¯•...
```

#### [r] é‡æ–°è¿è¡Œå½“å‰æµ‹è¯•
ä¿®å¤åæƒ³ç«‹å³éªŒè¯:
```bash
ğŸ‘‰ è¯·é€‰æ‹© [c/r/s/v/e/q]: r

ğŸ”„ é‡æ–°è¿è¡Œå½“å‰æµ‹è¯•...
```

#### [v] æŸ¥çœ‹é”™è¯¯å†å²
æŸ¥çœ‹æœ¬æ¬¡æµ‹è¯•çš„æ‰€æœ‰é”™è¯¯:
```bash
ğŸ‘‰ è¯·é€‰æ‹© [c/r/s/v/e/q]: v

================================================================================
ğŸ“Š é”™è¯¯æ‘˜è¦ (å…± 3 ä¸ª)
================================================================================

[1] test_search_conversations
    æ—¶é—´: 2026-01-17 14:30:45
    ç±»å‹: AssertionError
    æ¶ˆæ¯: assert 0 > 0

[2] test_delete_conversation
    æ—¶é—´: 2026-01-17 14:31:12
    ç±»å‹: KeyError
    æ¶ˆæ¯: 'conversation_id'

[3] test_update_tags
    æ—¶é—´: 2026-01-17 14:32:05
    ç±»å‹: TypeError
    æ¶ˆæ¯: unsupported operand type(s)
```

#### [e] å¯¼å‡ºé”™è¯¯æ—¥å¿—
ä¿å­˜æ‰€æœ‰é”™è¯¯åˆ°æ–‡ä»¶:
```bash
ğŸ‘‰ è¯·é€‰æ‹© [c/r/s/v/e/q]: e

âœ… é”™è¯¯æ—¥å¿—å·²å¯¼å‡ºåˆ°: logs/test_errors_20260117_143245.log
```

#### [s] è·³è¿‡å‰©ä½™æµ‹è¯•
å½“å‰æ¨¡å—æœ‰é—®é¢˜,å…ˆè·³è¿‡:
```bash
ğŸ‘‰ è¯·é€‰æ‹© [c/r/s/v/e/q]: s

â­ï¸  è·³è¿‡å‰©ä½™æµ‹è¯•...
```

#### [q] é€€å‡ºæµ‹è¯•
éœ€è¦å¤§å¹…ä¿®æ”¹,æš‚æ—¶é€€å‡º:
```bash
ğŸ‘‰ è¯·é€‰æ‹© [c/r/s/v/e/q]: q

ğŸ›‘ é€€å‡ºæµ‹è¯•è¿è¡Œå™¨
```

### 4. æµ‹è¯•å®Œæˆ

```
================================================================================
ğŸ“Š æµ‹è¯•å®Œæˆæ€»ç»“
================================================================================

â±ï¸  è€—æ—¶: 125.34ç§’
ğŸ“ æ€»è®¡: 45 ä¸ªæµ‹è¯•
âœ… é€šè¿‡: 42 ä¸ª
âŒ å¤±è´¥: 3 ä¸ª
â­ï¸  è·³è¿‡: 0 ä¸ª

âŒ å¤±è´¥ç‡: 6.7%

ğŸ” å¤±è´¥çš„æµ‹è¯•:
  â€¢ test_search_conversations
  â€¢ test_delete_conversation
  â€¢ test_update_tags

================================================================================

ğŸ’¾ æ˜¯å¦å¯¼å‡ºé”™è¯¯æ—¥å¿—? [y/n]: y

âœ… é”™è¯¯æ—¥å¿—å·²å¯¼å‡ºåˆ°: logs/test_errors_20260117_143500.log
```

## ğŸ¯ æ¸è¿›å¼E2Eæµ‹è¯•å¥—ä»¶

æˆ‘ä»¬åˆ›å»ºäº†ä¸“é—¨çš„æ¸è¿›å¼E2Eæµ‹è¯•:`tests/e2e/test_progressive_e2e.py`

### è®¾è®¡ç‰¹ç‚¹

1. **åˆ†é˜¶æ®µç»„ç»‡**
   - é˜¶æ®µ1: æ•°æ®åº“åŸºç¡€ (4ä¸ªæµ‹è¯•)
   - é˜¶æ®µ2: GUIåŸºç¡€ (4ä¸ªæµ‹è¯•)
   - é˜¶æ®µ3: GUIäº¤äº’ (3ä¸ªæµ‹è¯•)
   - é˜¶æ®µ4: é”™è¯¯å¤„ç† (3ä¸ªæµ‹è¯•)

2. **ä¾èµ–æ˜ç¡®**
   - æµ‹è¯•æŒ‰ä¾èµ–é¡ºåºæ‰§è¡Œ
   - åŸºç¡€æµ‹è¯•å¤±è´¥,åç»­è‡ªåŠ¨è·³è¿‡
   - é¿å…çº§è”å¤±è´¥

3. **é”™è¯¯æ£€æŸ¥**
   - æ¯ä¸ªæµ‹è¯•åæ£€æŸ¥é”™è¯¯å†å²
   - éªŒè¯æ“ä½œæœªäº§ç”Ÿæ„å¤–é”™è¯¯
   - æä¾›æ¸…æ™°çš„é”™è¯¯ä¸Šä¸‹æ–‡

### è¿è¡Œæ¸è¿›å¼E2Eæµ‹è¯•

```bash
# è¿è¡Œå®Œæ•´å¥—ä»¶
python run_tests_interactive.py tests/e2e/test_progressive_e2e.py

# åªè¿è¡Œç‰¹å®šé˜¶æ®µ
python run_tests_interactive.py tests/e2e/test_progressive_e2e.py::TestPhase1Database

# è¿è¡Œç‰¹å®šæµ‹è¯•
python run_tests_interactive.py tests/e2e/test_progressive_e2e.py::TestPhase1Database::test_01_database_creation
```

## ğŸ“Š æµ‹è¯•ç»„ç»‡ç­–ç•¥

### æ¨èæµ‹è¯•é¡ºåº

```
1. å•å…ƒæµ‹è¯• (tests/unit)
   â””â”€ å¿«é€Ÿ,æ— ä¾èµ–,ä¼˜å…ˆéªŒè¯

2. é›†æˆæµ‹è¯• (tests/integration)
   â””â”€ æ¨¡å—é—´äº¤äº’,ä¸­ç­‰å¤æ‚åº¦

3. GUIæµ‹è¯• (tests/gui)
   â””â”€ ç•Œé¢ç»„ä»¶,éœ€è¦Qtç¯å¢ƒ

4. E2Eæµ‹è¯• (tests/e2e)
   â””â”€ å®Œæ•´æµç¨‹,æœ€æ…¢ä½†æœ€å…¨é¢
```

### è‡ªå®šä¹‰æµ‹è¯•é¡ºåº

```bash
# åªæµ‹è¯•æ•°æ®åº“å’ŒGUI
python run_tests_interactive.py tests/unit/test_db_manager.py tests/gui

# å…ˆæµ‹è¯•å…³é”®åŠŸèƒ½
python run_tests_interactive.py \
    tests/unit/test_db_manager.py \
    tests/integration/test_scraper_integration.py \
    tests/e2e/test_progressive_e2e.py
```

## ğŸ› ï¸ é«˜çº§ç”¨æ³•

### 1. ç»“åˆé”™è¯¯æŸ¥çœ‹å™¨

å¯åŠ¨GUIå,å¯ä»¥å®æ—¶æŸ¥çœ‹æµ‹è¯•è¿‡ç¨‹ä¸­çš„é”™è¯¯:

```bash
# ç»ˆç«¯1: è¿è¡Œæµ‹è¯•
python run_tests_interactive.py

# ç»ˆç«¯2: å¯åŠ¨GUI
python main_gui.py

# GUIä¸­: å¸®åŠ© â†’ æŸ¥çœ‹é”™è¯¯æ—¥å¿—
```

### 2. è‡ªå®šä¹‰é”™è¯¯å¤„ç†

åœ¨æµ‹è¯•ä¸­é›†æˆé”™è¯¯å¤„ç†:

```python
from gui.error_handler import ErrorHandler

def test_my_feature():
    # æ¸…ç©ºé”™è¯¯å†å²
    ErrorHandler.clear_history()
    
    # æ‰§è¡Œæµ‹è¯•
    result = my_function()
    
    # æ£€æŸ¥æ˜¯å¦äº§ç”Ÿæ„å¤–é”™è¯¯
    errors = ErrorHandler.get_error_history()
    assert len(errors) == 0, f"ä¸åº”æœ‰é”™è¯¯: {errors}"
```

### 3. æ‰¹é‡æµ‹è¯•è„šæœ¬

åˆ›å»ºè‡ªå®šä¹‰æµ‹è¯•è„šæœ¬:

```python
# my_test_script.py
from tests.interactive_test_runner import InteractiveTestRunner

runner = InteractiveTestRunner()

# æµ‹è¯•æ ¸å¿ƒæ¨¡å—
runner.run([
    'tests/unit/test_db_manager.py',
    'tests/unit/test_scrapers.py',
    'tests/integration/test_end_to_end.py'
], stop_on_first=True)
```

## ğŸ“ æœ€ä½³å®è·µ

### DO âœ…

1. **ä»å°åˆ°å¤§æµ‹è¯•**
   - å…ˆè¿è¡Œå•å…ƒæµ‹è¯•
   - å†è¿è¡Œé›†æˆæµ‹è¯•
   - æœ€åè¿è¡ŒE2Eæµ‹è¯•

2. **é‡é”™å³åœ**
   - ä¸è¦å¿½ç•¥é”™è¯¯ç»§ç»­
   - ç«‹å³æŸ¥çœ‹è¯¦æƒ…
   - ç†è§£æ ¹æœ¬åŸå› 

3. **ä¿å­˜é”™è¯¯æ—¥å¿—**
   - å¯¼å‡ºå¤æ‚çš„é”™è¯¯
   - ç”¨äºåç»­åˆ†æ
   - é™„åŠ åˆ°issue

4. **å¢é‡ä¿®å¤**
   - ä¿®å¤ä¸€ä¸ªé”™è¯¯
   - ç«‹å³é‡æ–°æµ‹è¯•
   - ç¡®è®¤ä¿®å¤æœ‰æ•ˆ

5. **æ£€æŸ¥é”™è¯¯å†å²**
   - ä½¿ç”¨ `[v]` æŸ¥çœ‹å…¨å±€
   - è¯†åˆ«é‡å¤æ¨¡å¼
   - ä¼˜å…ˆä¿®å¤é«˜é¢‘é”™è¯¯

### DON'T âŒ

1. **ä¸è¦è·³è¿‡é”™è¯¯**
   - ä¸è¦ç”¨ `[s]` é€ƒé¿é—®é¢˜
   - æ¯ä¸ªé”™è¯¯éƒ½æœ‰åŸå› 
   - ç´¯ç§¯åªä¼šæ›´éš¾ä¿®

2. **ä¸è¦æ‰¹é‡ä¿®æ”¹**
   - ä¸è¦ä¸€æ¬¡æ”¹å¤šå¤„
   - éš¾ä»¥å®šä½æ–°é—®é¢˜
   - å®¹æ˜“å¼•å…¥æ–°bug

3. **ä¸è¦å¿½ç•¥è­¦å‘Š**
   - åº”ç”¨å±‚é”™è¯¯ä¹Ÿè¦å…³æ³¨
   - å¯èƒ½æ˜¯æ½œåœ¨bug
   - æ—©å‘ç°æ—©ä¿®å¤

4. **ä¸è¦ç›²ç›®é‡è¯•**
   - é‡è¯•å‰ç¡®ä¿å·²ä¿®å¤
   - å¦åˆ™æµªè´¹æ—¶é—´
   - ç†è§£é—®é¢˜å†è¡ŒåŠ¨

## ğŸ“ˆ æ•ˆç‡å¯¹æ¯”

### ä¼ ç»Ÿæ¨¡å¼
```
è¿è¡Œæ—¶é—´: 10åˆ†é’Ÿ
å‘ç°é”™è¯¯: 15ä¸ª
ä¿®å¤å‘¨æœŸ: 3è½® Ã— 10åˆ†é’Ÿ = 30åˆ†é’Ÿ
æ€»è€—æ—¶: ~40åˆ†é’Ÿ
```

### æ¸è¿›å¼æ¨¡å¼
```
è¿è¡Œæ—¶é—´: 15åˆ†é’Ÿ (å«æš‚åœ)
å‘ç°é”™è¯¯: 15ä¸ª
ä¿®å¤å‘¨æœŸ: å³æ—¶ä¿®å¤ = 15åˆ†é’Ÿ
æ€»è€—æ—¶: ~25åˆ†é’Ÿ (èŠ‚çœ37.5%)
```

**å…³é”®ä¼˜åŠ¿**:
- âœ… æ›´å°‘çš„é‡å¤è¿è¡Œ
- âœ… æ›´ç²¾å‡†çš„é”™è¯¯å®šä½
- âœ… æ›´å¿«çš„åé¦ˆå¾ªç¯
- âœ… æ›´å¥½çš„å­¦ä¹ æ•ˆæœ

## ğŸ› æ•…éšœæ’æŸ¥

### Q: æµ‹è¯•å¡åœ¨æŸä¸ªç”¨ä¾‹ä¸åŠ¨?

**A**: å¯èƒ½æ˜¯GUIæµ‹è¯•éœ€è¦äº‹ä»¶å¾ªç¯:
```bash
# æŒ‰ Ctrl+C ä¸­æ–­
# ä½¿ç”¨ --quick è·³è¿‡GUIæµ‹è¯•
python run_tests_interactive.py --quick
```

### Q: é”™è¯¯ä¿¡æ¯å¤ªé•¿çœ‹ä¸æ¸…?

**A**: ä½¿ç”¨ `[e]` å¯¼å‡ºåˆ°æ–‡ä»¶:
```bash
ğŸ‘‰ è¯·é€‰æ‹©: e
# ç„¶åæ‰“å¼€ logs/test_errors_*.log
```

### Q: æƒ³è¦ä¼ ç»Ÿçš„ä¸€æ¬¡è¿è¡Œå®Œ?

**A**: ä½¿ç”¨ `--no-stop` å‚æ•°:
```bash
python run_tests_interactive.py --no-stop
```

### Q: å¦‚ä½•åªæµ‹è¯•æœ€è¿‘ä¿®æ”¹çš„æ¨¡å—?

**A**: æŒ‡å®šæ–‡ä»¶è·¯å¾„:
```bash
python run_tests_interactive.py tests/unit/test_my_module.py
```

## ğŸ‰ æ€»ç»“

æ¸è¿›å¼æµ‹è¯•è®©ä½ :

1. **å®æ—¶åé¦ˆ** - ç«‹å³çŸ¥é“å“ªé‡Œå‡ºé”™
2. **ç²¾å‡†å®šä½** - å®Œæ•´å †æ ˆ+é”™è¯¯ä¸Šä¸‹æ–‡
3. **é€ä¸ªå‡»ç ´** - é¿å…é”™è¯¯ç´¯ç§¯
4. **æŒç»­æ”¹è¿›** - ä¿®å¤ä¸€ä¸ª,éªŒè¯ä¸€ä¸ª
5. **è´¨é‡ä¿è¯** - ç¡®ä¿æ¯æ¬¡æäº¤éƒ½æ˜¯å¯å·¥ä½œçš„

**è®°ä½**: æµ‹è¯•ä¸æ˜¯è´Ÿæ‹…,è€Œæ˜¯è´¨é‡ä¿è¯çš„å·¥å…·ã€‚æ¸è¿›å¼æµ‹è¯•è®©è¿™ä¸ªè¿‡ç¨‹æ›´é«˜æ•ˆã€æ›´æ„‰å¿«! ğŸš€

---

**å¼€å§‹ä½¿ç”¨**: `python run_tests_interactive.py --quick`
